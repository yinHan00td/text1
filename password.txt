package can;
import java.util.Scanner;
public class PasswordManager {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.println("Please input the password：");
        String password = scanner.nextLine();

        System.out.println("Please select operation：");
        System.out.println("1.Encrypt password");
        System.out.println("2.Decryption code");
        int choice = scanner.nextInt();

        switch (choice) {
            case 1:
                String encryptedPassword = encryptPassword(password);
                System.out.println("The Encrypted password is：" + encryptedPassword);
                break;
            case 2:
                String decryptedPassword = decryptPassword(password);
                System.out.println("The Decrypted password is：" + decryptedPassword);
                break;
            default:
                System.out.println("This is an invalid choice");
        }

        scanner.close();
    }

    public static String encryptPassword(String password) {
        StringBuilder encryptedPassword = new StringBuilder();

        // 遍历每个字符
        for (int i = 0; i < password.length(); i++) {
            char c = password.charAt(i);
            // 将字符的ASCII码加上它在字符串中的位置和偏移值3
            char encryptedChar = (char) (c + i + 3);
            encryptedPassword.append(encryptedChar);
        }

        // 调换第一位和最后一位的顺序
        if (encryptedPassword.length() > 1) {
            char firstChar = encryptedPassword.charAt(0);
            char lastChar = encryptedPassword.charAt(encryptedPassword.length() - 1);
            encryptedPassword.setCharAt(0, lastChar);
            encryptedPassword.setCharAt(encryptedPassword.length() - 1, firstChar);
        }

        // 反转字符串
        encryptedPassword.reverse();

        return encryptedPassword.toString();
    }

    public static String decryptPassword(String encryptedPassword) {
        StringBuilder decryptedPassword = new StringBuilder(encryptedPassword);

        // 反转字符串
        decryptedPassword.reverse();

        // 调换第一位和最后一位的顺序
        if (decryptedPassword.length() > 1) {
            char firstChar = decryptedPassword.charAt(0);
            char lastChar = decryptedPassword.charAt(decryptedPassword.length() - 1);
            decryptedPassword.setCharAt(0, lastChar);
            decryptedPassword.setCharAt(decryptedPassword.length() - 1, firstChar);
        }

        // 遍历每个字符
        for (int i = 0; i < decryptedPassword.length(); i++) {
            char c = decryptedPassword.charAt(i);
            // 将字符的ASCII码减去它在字符串中的位置和偏移值3
            char decryptedChar = (char) (c - i - 3);
            decryptedPassword.setCharAt(i, decryptedChar);
        }

        return decryptedPassword.toString();
    }
}package can;
import java.util.Scanner;
public class PasswordManager {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.println("Please input the password：");
        String password = scanner.nextLine();

        System.out.println("Please select operation：");
        System.out.println("1.Encrypt password");
        System.out.println("2.Decryption code");
        int choice = scanner.nextInt();

        switch (choice) {
            case 1:
                String encryptedPassword = encryptPassword(password);
                System.out.println("The Encrypted password is：" + encryptedPassword);
                break;
            case 2:
                String decryptedPassword = decryptPassword(password);
                System.out.println("The Decrypted password is：" + decryptedPassword);
                break;
            default:
                System.out.println("This is an invalid choice");
        }

        scanner.close();
    }

    public static String encryptPassword(String password) {
        StringBuilder encryptedPassword = new StringBuilder();

        // 遍历每个字符
        for (int i = 0; i < password.length(); i++) {
            char c = password.charAt(i);
            // 将字符的ASCII码加上它在字符串中的位置和偏移值3
            char encryptedChar = (char) (c + i + 3);
            encryptedPassword.append(encryptedChar);
        }

        // 调换第一位和最后一位的顺序
        if (encryptedPassword.length() > 1) {
            char firstChar = encryptedPassword.charAt(0);
            char lastChar = encryptedPassword.charAt(encryptedPassword.length() - 1);
            encryptedPassword.setCharAt(0, lastChar);
            encryptedPassword.setCharAt(encryptedPassword.length() - 1, firstChar);
        }

        // 反转字符串
        encryptedPassword.reverse();

        return encryptedPassword.toString();
    }

    public static String decryptPassword(String encryptedPassword) {
        StringBuilder decryptedPassword = new StringBuilder(encryptedPassword);

        // 反转字符串
        decryptedPassword.reverse();

        // 调换第一位和最后一位的顺序
        if (decryptedPassword.length() > 1) {
            char firstChar = decryptedPassword.charAt(0);
            char lastChar = decryptedPassword.charAt(decryptedPassword.length() - 1);
            decryptedPassword.setCharAt(0, lastChar);
            decryptedPassword.setCharAt(decryptedPassword.length() - 1, firstChar);
        }

        // 遍历每个字符
        for (int i = 0; i < decryptedPassword.length(); i++) {
            char c = decryptedPassword.charAt(i);
            // 将字符的ASCII码减去它在字符串中的位置和偏移值3
            char decryptedChar = (char) (c - i - 3);
            decryptedPassword.setCharAt(i, decryptedChar);
        }

        return decryptedPassword.toString();
    }
}